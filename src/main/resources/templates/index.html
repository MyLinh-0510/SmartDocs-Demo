<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>T√¨m ki·∫øm t√†i li·ªáu</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<header>
    <h1>üìö Kho T√†i Li·ªáu</h1>

    <form th:action="@{/search}" method="get">
        <input type="text" name="q" placeholder="Nh·∫≠p t·ª´ kh√≥a..." th:value="${query}" required>
        <button type="submit">T√¨m ki·∫øm</button>
    </form>

    <hr>
</header>

<main>

    <!-- N·∫øu c√≥ k·∫øt qu·∫£ t√¨m ki·∫øm -->
    <div th:if="${results != null and #lists.size(results) > 0}">
        <h2>K·∫øt qu·∫£ t√¨m ki·∫øm:</h2>
        <ul>
            <li th:each="r : ${results}">
                üìÑ <strong th:text="${r.file}"></strong>
                (<span th:text="${r.type}"></span>) -
                <a th:href="${r.path}" target="_blank">Xem / T·∫£i v·ªÅ</a>
            </li>
        </ul>
    </div>

    <!-- N·∫øu kh√¥ng c√≥ k·∫øt qu·∫£ -->
    <div th:if="${results != null and #lists.size(results) == 0}">
        <p>Kh√¥ng t√¨m th·∫•y t√†i li·ªáu n√†o ph√π h·ª£p.</p>
    </div>

    <!-- N·∫øu ch∆∞a t√¨m ki·∫øm (hi·ªÉn th·ªã to√†n b·ªô danh s√°ch t√†i li·ªáu) -->
    <div th:if="${results == null}">
        <h3>üìÑ Danh s√°ch t√†i li·ªáu:</h3>
        <ul>
            <li th:each="doc : ${documents}">
                <strong th:text="${doc.title}"></strong> -
                <span th:text="${doc.category}"></span>
                <a th:href="${doc.filePath}" target="_blank">Xem / T·∫£i</a>
            </li>
        </ul>
    </div>

</main>
</body>
</html>
